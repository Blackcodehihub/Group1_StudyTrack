<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>StudyTrack - Settings</title>
    <link rel="icon" href="images_icons/fav logo.png" type="image/png">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="settings.css">
    <style>
        /* DELETE ACCOUNT MODAL - DEDICATED & BEAUTIFUL STYLES */
        #deleteAccountModal {
            position: fixed;
            top: 0; left: 0; right: 0; bottom: 0;
            background: rgba(0, 0, 0, 0.75);
            backdrop-filter: blur(6px);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 9999;
            opacity: 0;
            visibility: hidden;
            transition: all 0.32s ease;
        }

        #deleteAccountModal.active {
            opacity: 1;
            visibility: visible;
        }

        #deleteAccountModal .delete-modal-content {
            background: var(--card);
            border: 1px solid var(--border);
            border-radius: 24px;
            max-width: 460px;
            width: 90%;
            text-align: center;
            padding: 44px 32px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
            transform: scale(0.92);
            transition: transform 0.32s ease;
        }

        #deleteAccountModal.active .delete-modal-content {
            transform: scale(1);
        }

        .delete-modal-content .crying-emoji {
            font-size: 84px;
            margin-bottom: 16px;
            display: block;
        }

        .delete-modal-content h3 {
            font-size: 24px;
            font-weight: 700;
            color: var(--text);
            margin: 16px 0;
            line-height: 1.3;
        }

        .delete-modal-content p {
            color: var(--text-dim);
            font-size: 15px;
            line-height: 1.7;
            margin-bottom: 32px;
        }

        .delete-modal-buttons {
            display: flex;
            gap: 16px;
            justify-content: center;
            flex-wrap: wrap;
        }

        .delete-modal-cancel {
            padding: 13px 32px;
            background: transparent;
            border: 1.5px solid var(--border);
            color: var(--text-dim);
            border-radius: 30px;
            font-weight: 600;
            font-size: 15px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .delete-modal-cancel:hover {
            background: var(--border);
            color: var(--text);
            border-color: transparent;
        }

        .delete-modal-confirm {
            background: #e74c3c;
            color: white;
            padding: 13px 36px;
            border: none;
            border-radius: 30px;
            font-weight: 700;
            font-size: 15px;
            cursor: pointer;
            box-shadow: 0 6px 20px rgba(231, 76, 60, 0.4);
            transition: all 0.3s ease;
            min-width: 200px;
        }

        .delete-modal-confirm:hover {
            background: #c0392b;
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(231, 76, 60, 0.5);
        }

        .delete-modal-confirm:disabled {
            background: #999;
            cursor: not-allowed;
            transform: none;
            opacity: 0.7;
        }

        @media (max-width: 480px) {
            .delete-modal-content { padding: 36px 24px; }
            .crying-emoji { font-size: 70px; }
            .delete-modal-buttons { flex-direction: column; }
            .delete-modal-cancel, .delete-modal-confirm { width: 100%; }
        }

        /* ACCOUNT DELETED SUCCESS MODAL */
#accountDeletedModal {
    position: fixed;
    top: 0; left: 0; right: 0; bottom: 0;
    background: rgba(0, 0, 0, 0.85);
    backdrop-filter: blur(8px);
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 10000;
    opacity: 0;
    visibility: hidden;
    transition: all 0.35s ease;
}

#accountDeletedModal.active {
    opacity: 1;
    visibility: visible;
}

#accountDeletedModal .delete-modal-content {
    transform: scale(0.9);
    transition: transform 0.35s ease;
}

#accountDeletedModal.active .delete-modal-content {
    transform: scale(1);
}

/* AVATAR RESULT MODAL */
#avatarResultModal {
    position: fixed;
    top: 0; left: 0; right: 0; bottom: 0;
    background: rgba(0, 0, 0, 0.78);
    backdrop-filter: blur(8px);
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 10001;
    opacity: 0;
    visibility: hidden;
    transition: all 0.35s ease;
}

#avatarResultModal.active {
    opacity: 1;
    visibility: visible;
}

#avatarResultModal .delete-modal-content {
    transform: scale(0.88);
    transition: transform 0.35s ease;
}

#avatarResultModal.active .delete-modal-content {
    transform: scale(1);
}

#avatarResultCloseBtn {
    background: var(--accent, #6c5ce7);
    color: white;
    border: none;
    box-shadow: 0 6px 20px rgba(108, 92, 231, 0.3);
}

#avatarResultCloseBtn:hover {
    background: #5b4cc7;
    transform: translateY(-2px);
}
    </style>
</head>
<body>
    <!-- Sidebar -->
    <aside class="sidebar" id="sidebar">
        <div class="logo"><a href="HomeF.html"><img src="images_icons/logo.png" alt="StudyTrack"></a></div>
        <div class="nav-menu">
            <div class="top-nav">
                <a href="HomeF.html"><img src="images_icons/home.png" alt=""> Home</a>
                <a href="Classes.html"><img src="images_icons/class.png" alt=""> Classes</a>
                <a href="Assignment.html"><img src="images_icons/assignment.png" alt=""> Assignment</a>
                <a href="Reminder.html"><img src="images_icons/reminder.png" alt=""> Reminder</a>
                <a href="Wallet.html"><img src="images_icons/wallet.png" alt=""> Wallet</a>
                <a href="Habits.html"><img src="images_icons/streak.png" alt=""> Habit</a>
            </div>
            <div class="bot-nav">
                <a href="Settings.html" class="active"><img src="images_icons/settings.png" alt=""> Settings</a>
                <a href="#"><img src="images_icons/logout.png" alt=""> Log out</a>
            </div>
        </div>
    </aside>

    <!-- Main Content -->
    <div class="main-content">
        <div class="container">
            <div class="header">
                <button class="hamburger" id="hamburgerBtn">Menu</button>
                <div class="greeting">
                    <h2><strong style="color: var(--border);">Your</strong> Settings</h2>
                    <p>Manage your account preferences and notifications</p>
                </div>
                <button class="theme-toggle" id="themeToggle">
                    <img src="images_icons/Sun.png" id="themeIcon">
                </button>
            </div>

            <!-- Profile Card -->
            <div class="profile-card">
                <div class="profile-header">Personal Information</div>
                <div class="profile-grid">
                    <div class="avatar-full-height">
                        <div class="profile-avatar">
                            <img src="images_icons/user.png" id="avatarPreview" alt="Profile Avatar">
                            <input type="file" id="avatarUpload" accept="image/*" style="display:none;">
                        </div>
                        <label for="avatarUpload" class="camera-icon">
                            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#000" stroke-width="2.5">
                                <path d="M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z"></path>
                                <circle cx="12" cy="13" r="4"></circle>
                            </svg>
                        </label>
                    </div>

                  <div class="info-section">
    <!-- Full Name + Email Row -->
    <div class="name-email-row">
        <div class="form-group">
            <label>Full name</label>
            <input type="text" id="fullName" readonly>
        </div>
        <div class="form-group">
            <label>Email Address</label>
            <input type="text" id="emailAddress" readonly>
        </div>
    </div>

    <!-- Password Row - NOW OUTSIDE name-email-row -->
    <div class="password-row">
        <div class="form-group password-group">
            <label>Password</label>
            <div class="password-input-wrapper">
                <input type="password" id="passwordField" value="************" readonly>
                <svg id="togglePasswordEye" class="eye-icon" width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M1 12s4-8 11-8 11 8 11 8"></path>
                    <circle cx="12" cy="12" r="3"></circle>
                    <line x1="1" y1="1" x2="23" y2="23" stroke-width="3"></line>
                </svg>
            </div>
        </div>

        <button class="change-pw-btn">Change Password</button>
    </div>
</div>
                    </div>
                     <div class="profile-actions">
                    <button class="btn-cancel">Cancel</button>
                    <button class="btn-save">Save Avatar</button>
                </div>
                </div>

               
            </div>

            <button class="btn-delete" id="btn-delete">Delete Account</button>
        </div>
    </div>

    <!-- Change Password Modal -->
    <div id="changePasswordModal" class="modal-overlay">
        <div class="modal-content" id="pwFormModal">
            <div class="modal-header">
                <h3>Change Password</h3>
                <button class="modal-close-btn" id="closePwModal">X</button>
            </div>
            <div class="modal-body">
                <div id="step1" class="form-step active">
                    <div class="form-group">
                        <input type="email" id="verifyEmail" placeholder="Enter your email" required>
                    </div>
                </div>
                <div id="step2" class="form-step">
                    <div class="form-group">
                        <div class="password-input-wrapper">
                            <input type="password" id="newPassword" placeholder="Enter new password" required>
                            <svg class="eye-icon" style="margin-top: -5px;" onclick="togglePasswordVisibility('newPassword')" width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path>
                                <circle cx="12" cy="12" r="3"></circle>
                            </svg>
                        </div>
                    </div>
                    <br><br>
                    <div class="form-group">
                        <div class="password-input-wrapper">
                            <input type="password" id="confirmPassword" placeholder="Confirm new password" required>
                            <svg class="eye-icon" style="margin-top: -5px;" onclick="togglePasswordVisibility('confirmPassword')" width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path>
                                <circle cx="12" cy="12" r="3"></circle>
                            </svg>
                        </div>
                    </div>
                    <p style="font-size:13px; color:var(--text-dim); margin-top:10px;">Password must be at least 8 characters long.</p>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn-verify" id="actionBtn">Verify Email</button>
            </div>
        </div>
        <div class="modal-content success-modal" id="successModal" style="display:none;">
            <div style="text-align:center; padding:50px 40px;">
                <div style="width:90px; height:90px; background:#28a745; border-radius:50%; margin:0 auto 30px; display:flex; align-items:center; justify-content:center;">
                    <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="4">
                        <path d="M20 6 L9 17 L4 12"></path>
                    </svg>
                </div>
                <h3 style="font-size:26px; font-weight:700; margin-bottom:10px; color:var(--text);">Password Updated</h3>
                <p style="color:var(--text-dim); font-size:15px; margin-bottom:40px;">Your password has been changed successfully.</p>
                <button class="btn-ok" id="okSuccessBtn">OK</button>
            </div>
        </div>
    </div>

    <!-- Logout Modal -->
    <div id="logoutModal" class="modal-logout">
        <div class="modal-logout-content">
            <div class="modal-logout-icon">ðŸ˜¢</div>
            <h2>Are you sure you want to logout?</h2>
            <p>You will be returned to the login page.</p>
            <div class="modal-logout-buttons">
                <button id="cancelLogout" class="modal-logout-cancel-btn">Cancel</button>
                <button id="confirmLogout" class="modal-logout-btn">Logout</button>
            </div>
        </div>
    </div>

    <!-- DELETE ACCOUNT MODAL - FINAL VERSION -->
    <div id="deleteAccountModal">
        <div class="delete-modal-content">
            <span class="crying-emoji">ðŸ˜¢</span>
            <h3>Are you sure you want to delete your account?</h3>
            <p>
                This action <strong>cannot be undone</strong>.<br>
                All your classes, assignments, habits, and data will be <strong>permanently deleted</strong>.
            </p>
            <div class="delete-modal-buttons">
                <button id="cancelDeleteBtn" class="delete-modal-cancel">Cancel</button>
                <button id="confirmDeleteBtn" class="delete-modal-confirm">Yes, Delete My Account</button>
            </div>
        </div>
    </div>

    <!-- ACCOUNT DELETED SUCCESS MODAL -->
<div id="accountDeletedModal">
    <div class="delete-modal-content" style="max-width: 480px; padding: 60px 40px;">
        <h3 style="font-size:28px; margin-bottom:16px; ">Account Permanently Deleted</h3>
        <p style="font-size:16px; line-height:1.7; margin-bottom:40px;">
            We're sad to see you go ðŸ˜¢<br>
            All your data has been erased and cannot be recovered.
        </p>
        <button id="finalGoodbyeBtn" style="background:#e74c3c; color:white; padding:14px 40px; border:none; border-radius:30px; font-weight:700; font-size:16px; cursor:pointer;">
            Goodbye
        </button>
    </div>
</div>

<!-- AVATAR SAVE SUCCESS / ERROR MODAL -->
<div id="avatarResultModal">
    <div class="delete-modal-content" style="max-width: 440px; padding: 50px 36px;">
        <div id="avatarResultIcon" style="width:96px; height:96px; margin:0 auto 28px; border-radius:50%; display:flex; align-items:center; justify-content:center;">
            <!-- Icon will be injected via JS -->
        </div>
        <h3 id="avatarResultTitle" style="font-size:26px; margin-bottom:14px; margin-left: 50px;"></h3>
        <p id="avatarResultMessage" style="font-size:15px; line-height:1.7; margin-bottom:36px; color:var(--text-dim);"></p>
        <button id="avatarResultCloseBtn" style="padding:13px 40px; border-radius:30px; margin-left: 80px; font-weight:700; font-size:15px; cursor:pointer; width:180px;">
            Got it
        </button>
    </div>
</div>
    <script>
        document.addEventListener("DOMContentLoaded", function () {
            let currentUserEmail = "";
            let plainPassword = "";

            // Load user data
            fetch("http://localhost/Group1_StudyTrack/settings.php", { credentials: "include" })
                .then(r => r.json())
                .then(data => {
                    if (!data.success) {
                        alert("Please log in again");
                        window.location.href = "Sign-in.html";
                        return;
                    }
                    const u = data.data;
                    currentUserEmail = u.email;
                    plainPassword = u.plain_password || "12345678";

                    document.getElementById("fullName").value = `${u.first_name || ''} ${u.last_name || ''}`.trim() || "User";
                    document.getElementById("emailAddress").value = u.email;
                  
                    const avatarPreview = document.getElementById("avatarPreview");

                    // Check if user has a real avatar (not NULL, not empty)
                    if (u.avatar && u.avatar.trim() !== "" && u.avatar !== "data:image/png;base64,null") {
                        // Try to load the real uploaded image
                        avatarPreview.src = u.avatar;

                        // If it fails (broken/corrupted), fall back to default
                        avatarPreview.onerror = function() {
                            this.src = "images_icons/user.png";
                            this.onerror = null; // prevent infinite loop
                        };
                    } else {
                        // No avatar in database â†’ use default immediately
                        avatarPreview.src = "images_icons/user.png";
                    }

                    // Password eye toggle
                    const passwordField = document.getElementById("passwordField");
                    const eyeIcon = document.getElementById("togglePasswordEye");
                    let isVisible = false;
                    eyeIcon.addEventListener("click", () => {
                        if (isVisible) {
                            passwordField.type = "password";
                            passwordField.value = "**********";
                            eyeIcon.innerHTML = `<path d="M1 12s4-8 11-8 11 8 11 8"></path><circle cx="12" cy="12" r="3"></circle><line x1="1" y1="1" x2="23" y2="23" stroke-width="3"></line>`;
                        } else {
                            passwordField.type = "text";
                            passwordField.value = plainPassword;
                            eyeIcon.innerHTML = `<path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path><circle cx="12" cy="12" r="3"></circle>`;
                        }
                        isVisible = !isVisible;
                    });
                });

            // Avatar preview
            document.getElementById('avatarUpload').addEventListener('change', e => {
                if (e.target.files[0]) {
                    const reader = new FileReader();
                    reader.onload = ev => document.getElementById('avatarPreview').src = ev.target.result;
                    reader.readAsDataURL(e.target.files[0]);
                }
            });

            // Change Password Modal Logic (unchanged)
            const modal = document.getElementById('changePasswordModal');
            document.querySelector('.change-pw-btn').addEventListener('click', () => {
                modal.style.display = 'flex';
                setTimeout(() => modal.classList.add('active'), 10);
                document.getElementById('verifyEmail').value = currentUserEmail;
                document.getElementById('step1').classList.add('active');
                document.getElementById('step2').classList.remove('active');
                document.getElementById('actionBtn').textContent = "Verify Email";
            });

            document.getElementById('closePwModal').onclick = () => modal.style.display = 'none';
            document.getElementById('okSuccessBtn').onclick = () => modal.style.display = 'none';
            modal.onclick = e => { if (e.target === modal) modal.style.display = 'none'; };

            // Toggle password visibility in modal
            window.togglePasswordVisibility = function(id) {
                const input = document.getElementById(id);
                const icon = input.parentElement.querySelector('.eye-icon');
                if (input.type === 'password') {
                    input.type = 'text';
                    icon.innerHTML = `<path d="M1 12s4-8 11-8 11 8 11 8"/>`;
                } else {
                    input.type = 'password';
                    icon.innerHTML = `<path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path><circle cx="12" cy="12" r="3"></circle>`;
                }
            };

            document.getElementById('actionBtn').onclick = async () => {
                if (document.getElementById('step1').classList.contains('active')) {
                    if (document.getElementById('verifyEmail').value.trim() !== currentUserEmail) {
                        return alert("Email does not match!");
                    }
                    document.getElementById('step1').classList.remove('active');
                    document.getElementById('step2').classList.add('active');
                    document.getElementById('actionBtn').textContent = "Update Password";
                    return;
                }

                const newPass = document.getElementById('newPassword').value;
                const confirmPass = document.getElementById('confirmPassword').value;
                if (newPass.length < 8) return alert("Password must be 8+ characters");
                if (newPass !== confirmPass) return alert("Passwords do not match");

                const btn = document.getElementById('actionBtn');
                btn.disabled = true; btn.textContent = "Updating...";

                const formData = new FormData();
                formData.append('new_password', newPass);

                const res = await fetch('http://localhost/Group1_StudyTrack/update_profile.php', {
                    method: 'POST', body: formData, credentials: 'include'
                });
                const result = await res.json();

                if (result.success) {
                    plainPassword = newPass;
                    document.getElementById('pwFormModal').style.display = 'none';
                    document.getElementById('successModal').style.display = 'block';
                } else {
                    alert(result.message || "Update failed");
                }
                btn.disabled = false; btn.textContent = "Update Password";
            };

                        // Save Avatar + Beautiful Result Modal
            let avatarChanged = false;
            document.getElementById('avatarUpload').addEventListener('change', () => {
                avatarChanged = true;
            });

            document.querySelector('.btn-save').addEventListener('click', async () => {
                const file = document.getElementById('avatarUpload').files[0];

                if (!file && !avatarChanged) {
                    showAvatarResult(false, "No Changes", "You haven't selected a new image yet.");
                    return;
                }

                if (!file) {
                    showAvatarResult(false, "No Image Selected", "Please choose a photo first.");
                    return;
                }

                const formData = new FormData();
                formData.append('avatar', file);

                try {
                    const res = await fetch('http://localhost/Group1_StudyTrack/update_profile.php', {
                        method: 'POST',
                        body: formData,
                        credentials: 'include'
                    });
                    const data = await res.json();

                    if (data.success) {
                        showAvatarResult(true, "Avatar Updated!", "Your profile picture has been saved successfully.");
                        setTimeout(() => location.reload(), 1800);
                    } else {
                        showAvatarResult(false, "Update Failed", data.message || "Something went wrong. Please try again.");
                    }
                } catch (err) {
                    showAvatarResult(false, "Network Error", "Unable to connect. Check your internet and try again.");
                    console.error(err);
                }
            });

            // Reusable function to show the modal
            function showAvatarResult(isSuccess, title, message) {
                const modal = document.getElementById('avatarResultModal');
                const iconContainer = document.getElementById('avatarResultIcon');
                const titleEl = document.getElementById('avatarResultTitle');
                const msgEl = document.getElementById('avatarResultMessage');
                const closeBtn = document.getElementById('avatarResultCloseBtn');

                // Set colors & icon
                if (isSuccess) {
                    iconContainer.style.background = '#28a745';
                    iconContainer.innerHTML = `<svg width="52" height="52" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="4"><path d="M20 6 L9 17 L4 12"/></svg>`;
                    closeBtn.style.background = '#28a745';
                    closeBtn.style.marginLeft = '80px';
                } else {
                    iconContainer.style.background = '#e74c3c';
                    iconContainer.innerHTML = `<svg width="52" height="52" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="3.5"><circle cx="12" cy="12" r="10"/><path d="M15 9 L9 15 M9 9 L15 15"/></svg>`;
                    closeBtn.style.background = '#e74c3c';
                    closeBtn.style.marginLeft = '50px';
                }

                titleEl.textContent = title;
                msgEl.textContent = message;

                modal.classList.add('active');

                // Close handlers
                const closeModal = () => modal.classList.remove('active');
                closeBtn.onclick = closeModal;
                modal.onclick = (e) => { if (e.target === modal) closeModal(); };
            }

            // DELETE ACCOUNT â€“ FINAL VERSION WITH BEAUTIFUL SUCCESS MODAL
            const deleteModal         = document.getElementById('deleteAccountModal');
            const accountDeletedModal = document.getElementById('accountDeletedModal');
            const cancelDeleteBtn     = document.getElementById('cancelDeleteBtn');
            const confirmDeleteBtn    = document.getElementById('confirmDeleteBtn');

            document.getElementById('btn-delete').addEventListener('click', () => {
                deleteModal.classList.add('active');
            });

            const closeDeleteModal = () => deleteModal.classList.remove('active');
            cancelDeleteBtn.addEventListener('click', closeDeleteModal);
            deleteModal.addEventListener('click', e => { if (e.target === deleteModal) closeDeleteModal(); });

            confirmDeleteBtn.addEventListener('click', async () => {
                confirmDeleteBtn.disabled = true;
                confirmDeleteBtn.textContent = "Deleting...";

                try {
                    const res = await fetch('http://localhost/Group1_StudyTrack/delete_account.php', {
                        method: 'POST',
                        credentials: 'include'
                    });
                    const data = await res.json();

                    if (data.success) {
                        // Close confirmation modal
                        closeDeleteModal();

                        // Show beautiful goodbye modal
                        accountDeletedModal.classList.add('active');

                        // Optional: auto-redirect after 4 seconds
                        setTimeout(() => {
                            window.location.href = "Sign-in.html";
                        }, 4000);
                    } else {
                        alert(data.message || "Failed to delete account.");
                        closeDeleteModal();
                    }
                } catch (err) {
                    alert("Network error. Please try again.");
                    console.error(err);
                } finally {
                    confirmDeleteBtn.disabled = false;
                    confirmDeleteBtn.textContent = "Yes, Delete My Account";
                }
            });

            // Close goodbye modal and go to sign-in (in case user clicks button)
            document.getElementById('finalGoodbyeBtn')?.addEventListener('click', () => {
                window.location.href = "Sign-in.html";
            });
            // Theme Toggle
            const themeToggle = document.getElementById('themeToggle');
            const themeIcon = document.getElementById('themeIcon');
            if (localStorage.getItem('theme') === 'light') {
                document.body.classList.add('light-theme');
                themeIcon.src = 'images_icons/moon.png';
            }
            themeToggle.onclick = () => {
                document.body.classList.toggle('light-theme');
                const isLight = document.body.classList.contains('light-theme');
                localStorage.setItem('theme', isLight ? 'light' : 'dark');
                themeIcon.src = isLight ? 'images_icons/moon.png' : 'images_icons/Sun.png';
            };

            // Logout Modal
            document.querySelector('.bot-nav a[href="#"]').onclick = e => {
                e.preventDefault();
                document.getElementById('logoutModal').style.display = "flex";
            };
            document.getElementById('cancelLogout').onclick = () => document.getElementById('logoutModal').style.display = "none";
            document.getElementById('confirmLogout').onclick = () => window.location.href = "Sign-in.html";

            // Hamburger Menu
            document.getElementById('hamburgerBtn').onclick = () => {
                document.getElementById('sidebar').classList.toggle('active');
                document.querySelector('.main-content').classList.toggle('shift');
            };
        });
    </script>
</body>
</html>