<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>StudyTrack - Habits</title>
    <link rel="icon" href="images_icons/fav logo.png" type="image/png">
    
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="habit.css">
</head>
<body>

    <!-- Sidebar - Now matches Home perfectly -->
    <aside class="sidebar" id="sidebar">        
        <div class="logo">
            <a href="HomeF.html"><img src="images_icons/logo.png" alt="StudyTrack"></a>
        </div>
        <div class="nav-menu">
            <div class="top-nav">
            <a href="HomeF.html" ><img src="images_icons/home.png" alt=""> Home</a>
            <a href="Classes.html"><img src="images_icons/class.png" alt=""> Classes</a>
            <a href="Assignment.html"><img src="images_icons/assignment.png" alt=""> Assignment</a>
            <a href="Reminder.html" ><img src="images_icons/reminder.png" alt=""> Reminder</a>
            <a href="Wallet.html"><img src="images_icons/wallet.png" alt=""> Wallet</a>
            <a href="Habits.html" class="active"><img src="images_icons/streak.png" alt=""> Habit</a>
            </div>
            <div class="bot-nav">
                <a href="Settings.html"><img src="images_icons/settings.png" alt=""> Settings</a>
                <a href="#"><img src="images_icons/logout.png" alt=""> Log out</a>
            </div>
        </div>
    </aside>

    <!-- Main Content -->
    <div class="main-content">
        <div class="container">

            <!-- Header -->
            <div class="header">
                <button class="hamburger" id="hamburgerBtn">â˜°</button>
                <div class="greeting">
                    <h2><strong style="color: var(--border);">Your</strong> Habits</h2>
                    <p>Keep up the momentum!</p>
                </div>
                <button class="theme-toggle" id="themeToggle">
                    <img src="images_icons/Sun.png" alt="Toggle Theme" id="themeIcon">
                </button>
            </div>


<!-- Streak Dashboard - One Row, Weekly Activity = 50% -->
<div class="streak-dashboard-row">
    <!-- Left: Current + Best Streak (25% each) -->
    <div class="streak-mini-card">
        <div class="streak-header">
             <img src="images_icons/gold_fire.png" alt="Current" style="width:28px; height:28px;">
             Current Streak
        </div>
        <div class="streak-value">7 <small>days</small></div>
        <div class="streak-subtitle">Youâ€™re on fire!ðŸ”¥</div>
    </div>

    <div class="streak-mini-card">
        <div class="streak-header">
             <img src="images_icons/trophy.png" alt="Current" style="width:28px; height:28px;">
            Best Streak
        </div>
        <div class="streak-value">14 <small>days</small></div>
        <div class="streak-subtitle">Beat your record by 7 days</div>
    </div>

  <!-- Right: Weekly Activity = 50% width -->
<div class="weekly-activity-card">
    <div class="streak-header">
        <img src="images_icons/calendar.png" alt="Calendar" style="width:28px; height:28px;">
        Activity this Week
    </div>

    <div class="activity-content">
        <div class="completion">85% <div class="streak-subtitle">Completion rate</div></div>

        <!-- Week Days with Labels Below Each Icon -->
        <div class="week-days-column">
            <div class="day-item">
                <div class="day done">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="4" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M20 6 L9 17 L4 12"></path>
                    </svg>
                </div>
                <span class="day-label">M</span>
            </div>

            <div class="day-item">
                <div class="day done">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="4" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M20 6 L9 17 L4 12"></path>
                    </svg>
                </div>
                <span class="day-label">T</span>
            </div>

            <div class="day-item">
                <div class="day done">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="4" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M20 6 L9 17 L4 12"></path>
                    </svg>
                </div>
                <span class="day-label">W</span>
            </div>

            <div class="day-item">
                <div class="day missed">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="4" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M18 6 L6 18 M6 6 L18 18"></path>
                    </svg>
                </div>
                <span class="day-label">T</span>
            </div>

            <div class="day-item">
                <div class="day done">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="4" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M20 6 L9 17 L4 12"></path>
                    </svg>
                </div>
                <span class="day-label">F</span>
            </div>

            <div class="day-item">
                <div class="day done">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="4" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M20 6 L9 17 L4 12"></path>
                    </svg>
                </div>
                <span class="day-label">S</span>
            </div>

            <div class="day-item">
                <div class="day done">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="4" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M20 6 L9 17 L4 12"></path>
                    </svg>
                </div>
                <span class="day-label">S</span>
            </div>
        </div>
    </div>
</div>
</div>
            <!-- Classes Card -->
            <div class="card">
                <div class="classes-header-row">
                    <h3>Today's Habits</h3>
                    <button class="add-class-btn" id="openModalBtn">+ Add Habit</button>
                </div>

                <div class="class-item">
                    <div class="class-info">
                        <img src="images_icons/book.png" alt="Book">
                        <div>
                            <h4>Morning Reading</h4>
                            <p>9:00 AM</p>
                        </div>
                    </div>
                    <div class="priority-label">
                        <svg  width="18" height="20" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="4" stroke-linecap="round" stroke-linejoin="round">
    <path d="M20 6 L9 17 L4 12"></path>
</svg>
                    </div>
    
                </div>
            </div>

        </div>
    </div>

 <!-- Add Reminder Modal -->
<div class="modal-overlay" id="addClassModal">
    <div class="modal">

        <!-- Header -->
        <div class="modal-header">
            <h3>Add Habit</h3>
            <button class="close-modal" id="closeModalBtn">X</button>
        </div>

        <!-- Title -->
        <label>Habit Name</label>
        <input type="text" placeholder="Morning Reading">

        <label>Repeat</label>
        <div class="repeat-days">
            <button type="button" class="day-btn">Mon</button>
            <button type="button" class="day-btn">Tue</button>
            <button type="button" class="day-btn">Wed</button>
            <button type="button" class="day-btn">Thu</button>
            <button type="button" class="day-btn">Fri</button>
        </div>
        <!-- Due Date + Time -->
        <div class="time-row">
            <div>
                <label>Start Time</label>
                <div class="input-icon-wrapper">
                    <input type="time" value="09:00">
                </div>
            </div>

            <div>
                <label>End Time</label>
                <div class="input-icon-wrapper">
                    <input type="time" value="09:30">
                </div>
            </div>
        </div>

<!-- Reminder -->
<label style="margin-top: -25px;">Remind me</label>
<div class="reminder-row">
    <select>
        <option>15 mins before</option>
        <option>30 mins before</option>
        <option>1 hour before</option>
        <option>None</option>
    </select>
</div> 


        <!-- Buttons -->
        <div class="modal-actions">
            <button class="btn-cancel" id="cancelBtn">
                Cancel
            </button>
            <button class="btn-save">
                Save Habit
            </button>
        </div>
    </div>
</div>

<!-- Success Modal - Class Saved (100% Responsive) -->
<div class="modal-overlay" id="successModal" style="display: none;">
    <div class="modal success-modal">
        <button class="close-modal success-close" id="successCloseBtn" aria-label="Close">X</button>
        
        <div class="success-content">
            <!-- Checkmark Icon -->
            <div class="success-icon">
                    <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="4" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M20 6 L9 17 L4 12"></path>
                    </svg>
            </div>
            
            <h3>Habit Added  </h3>
            <p>
                Morning reading has been successfully added to your<br> daily schedule. Keep up the streak
            </p>

            <!-- Action Buttons - Stack vertically on small screens -->
            <div class="success-actions">
                <button class="btn-secondary" id="addAnotherClassBtn">
                    Add Habit
                </button>
                <button class="btn-primary" id="viewClassBtn">
                    View Habits
                </button>
            </div>
        </div>
    </div>
</div>  

    <!-- LOGOUT CONFIRMATION MODAL -->
    <div id="logoutModal" class="modal-logout">
        <div class="modal-logout-content">
            <div class="modal-logout-icon">ðŸ˜¢</div>
            <h2>Are you sure you want to logout?</h2>
            <p>You will be returned to the login page.</p>

            <div class="modal-logout-buttons">
                <button id="cancelLogout" class="modal-logout-cancel-btn">Cancel</button>
                <button id="confirmLogout" class="modal-logout-btn">Logout</button>
            </div>
        </div>
    </div>


    <script>

            //Logout Modal
    const logoutTrigger = document.querySelector('.bot-nav a[href="#"]');

   
    const logoutModal = document.getElementById('logoutModal');
    const cancelLogoutBtn = document.getElementById('cancelLogout');
    const confirmLogoutBtn = document.getElementById('confirmLogout');

 
    logoutTrigger.addEventListener('click', (e) => {
        e.preventDefault();
        logoutModal.style.display = "flex";
    });


    cancelLogoutBtn.addEventListener('click', () => {
        logoutModal.style.display = "none";
    });

  
    confirmLogoutBtn.addEventListener('click', () => {
        window.location.href = "Sign-in.html"; 
    });

  
    window.addEventListener('click', (e) => {
        if (e.target === logoutModal) {
            logoutModal.style.display = "none";
        }
    });

        // Theme Toggle
        const themeToggle = document.getElementById('themeToggle');
        const themeIcon = document.getElementById('themeIcon');

        if (localStorage.getItem('theme') === 'light') {
            document.body.classList.add('light-theme');
            themeIcon.src = 'images_icons/moon.png';
        } else {
            themeIcon.src = 'images_icons/sun.png';
        }

        themeToggle.addEventListener('click', () => {
            document.body.classList.toggle('light-theme');
            if (document.body.classList.contains('light-theme')) {
                localStorage.setItem('theme', 'light');
                themeIcon.src = 'images_icons/moon.png';
            } else {
                localStorage.setItem('theme', 'dark');
                themeIcon.src = 'images_icons/sun.png';
            }
        });

        // Hamburger Menu
        const hamburgerBtn = document.getElementById('hamburgerBtn');
        const sidebar = document.getElementById('sidebar');
        const mainContent = document.querySelector('.main-content');

        hamburgerBtn.addEventListener('click', (e) => {
            e.stopPropagation();
            sidebar.classList.toggle('active');
            mainContent.classList.toggle('shift');
        });

        document.addEventListener('click', (e) => {
            if (sidebar.classList.contains('active') && 
                !sidebar.contains(e.target) && 
                !hamburgerBtn.contains(e.target)) {
                sidebar.classList.remove('active');
                mainContent.classList.remove('shift');
            }
        });

        // ========== MODAL CONTROL ==========
const openModalBtn = document.getElementById('openModalBtn');
const modal = document.getElementById('addClassModal');
const closeModalBtn = document.getElementById('closeModalBtn');
const cancelBtn = document.getElementById('cancelBtn');

function openModal() {
    modal.style.display = 'flex';
    document.body.style.overflow = 'hidden';
}
function closeModal() {
    modal.style.display = 'none';
    document.body.style.overflow = 'auto';
}

openModalBtn.addEventListener('click', openModal);
closeModalBtn.addEventListener('click', closeModal);
cancelBtn.addEventListener('click', closeModal);

// Close when clicking outside the modal content
modal.addEventListener('click', (e) => {
    if (e.target === modal) closeModal();
});

// Day buttons toggle
document.querySelectorAll('.day-btn').forEach(btn => {
    btn.addEventListener('click', () => btn.classList.toggle('active'));
});

document.querySelector('.btn-save').addEventListener('click', function() {
    closeModal();
    document.getElementById('successModal').style.display = 'flex';
    document.body.style.overflow = 'hidden';
});

document.getElementById('successCloseBtn').addEventListener('click', () => {
    document.getElementById('successModal').style.display = 'none';
    document.body.style.overflow = 'auto';
});

document.getElementById('addAnotherClassBtn').addEventListener('click', () => {
    document.getElementById('successModal').style.display = 'none';
    document.body.style.overflow = 'auto';
    openModal();
});

document.getElementById('viewClassBtn').addEventListener('click', () => {
    document.getElementById('successModal').style.display = 'none';
    document.body.style.overflow = 'auto';
    // Future: scroll to newly added class or open edit modal
});


    </script>
</body>
</html>